(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,c=n?n("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):m;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,m,n){l.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(e,b){b="iconfarm-state-"+b;var d='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+e).find(d).html()}catch(g){console.log(g.message)}a?e=c.$.parseJSON(a):
(c.state.parse(),e=c.state(b));return e}}});l.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});l.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",AMAZON_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",AMAZON_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",PAYMENTS_AND_SECURITY:"iconfarm_ps",
PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",AMAZON_MANAGED_DELIVERY:"iconfarm_amd",AMAZON_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",DELIVERY_JP:"iconfarm_dl_jp",RETURN_POLICY_JP:"iconfarm_rp_jp",SMALL_BUSINESS_JP:"iconfarm_sb_jp",
DELIVERY_HIT:"iconfarm_dh",WARRANTY_HIT:"iconfarm_wh",RETURN_POLICY_HIT:"iconfarm_rph",CUSTOMER_SUPPORT:"iconfarm_cs",SERVICE:"iconfarm_serv",FREE_DELIVERY:"iconfarm_fd",TOP_BRAND:"iconfarm_tb",AUTHENTICITY:"iconfarm_auth"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",ABSENT:"_noavail"},NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3"},LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});
l.when("A","iconfarm-return-policy-metric-logger","iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,e,b,d){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return e;case "PAY_ON_DELIVERY":return b;default:return d}}}});l.when("A","iconfarm-metrics-constants","get-icon-farm-page-state","iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,e,b,d){return{log:function(a,g,h,f){if(a&&
g&&null!==h&&e.REF_MARKER_PREFIX[a]&&e.REF_MARKER_SUFFIX[g]){var k=b.parseJSON(e.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+h,h);k?d.getIconMetric(a).log(a,g,h,c.$.extend(!0,{asin:k.asin,merchantId:k.merchantId,remoteAddress:k.remoteAddress,isInternal:k.isInternal,isRobot:k.isRobot,numOfShownIcons:k.numOfShownIcons,buyingOptionIndex:h},f)):console.warn("iconfarm state may not be available")}}}});l.when("A","ready").register("iconfarm-postmetric",function(){return{postCountMetric:function(c){if("undefined"!==
typeof c){var e=m.ue;if(e){var b=e.count(c)||0;e.count(c,b+1)}}},postTimeMetric:function(c,e){if("undefined"!==typeof c&&"undefined"!==typeof e){var b=m.ue;b&&b.count(c,e)}}}});l.when("A","ready").register("iconfarm-metric-cache",function(c){var e=[],b=function(a){if(!d(a))return!1;var b=!1;c.each(e,function(c,d){c.asin===a.asin&&c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&(b=!0)});return b},d=function(a){return a&&a.asin&&a.merchantId&&
a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isPresent:b,add:function(a){return d(a)?b(a)?!1:(e.push(a),!0):!1},reset:function(){e=[]}}});"use strict";l.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",function(c,e,b){return{log:function(d){if(e.add(d)){var a={};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=d.ref;a.pageAsin=d.asin;a.pageType=c.capabilities?c.capabilities.mobile?
c.capabilities.isAmazonApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType="IconFarm";a.server=m?m.ue_sn:"";a.merchantId=d.merchantId;a.remoteAddress=d.remoteAddress;a.isInternal=d.isInternal?1:0;a.isRobot=d.isRobot?1:0;var g={};g.numOfShownIcons=d.numOfShownIcons;g.buyingOptionIndex=d.buyingOptionIndex;d=JSON.stringify(g);a.additionalRequestData=d;if(d=m.ue)try{d.event&&d.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(h){d.count("NexusLoggerFailure",1)}}}}});
l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","ready").register("iconfarm-default-metric-logger",function(c,e,b,d){return{log:function(a,g,h,f){h=JSON.parse(JSON.stringify(f));e.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state",
"ready").register("iconfarm-return-policy-metric-logger",function(c,e,b,d,a){return{log:function(g,h,f,k){a:{if((f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,f))&&f.RETURNS_POLICY&&f.RETURNS_POLICY.secondaryViewData&&f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:f="GENERIC_RETURN_POLICY";break a;case 1:f="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:f="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}f=void 0}g=
f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",function(c,e,b,d,a){return{log:function(g,h,f,k){f=(f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,
f))&&f.PAY_ON_DELIVERY&&f.PAY_ON_DELIVERY.isEligible?f.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":"PAY_ON_DELIVERY_INACTIVE":void 0;g=f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}})});
/* ******** */
(function(k){var m=window.AmazonUIPageJS||window.P,l=m._namespace||m.attributeErrors,a=l?l("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):m;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,m,l){k.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,f,b,d,c,h){var p=function(e){var g=e.data("name");a.off("a:popover:beforeShow:"+
g);a.on("a:popover:beforeShow:"+g,function(e){e=h.getCurrentBuyingOptionIndex();d.log(g,c.METRIC_TYPE.ICON_CLICK,e);d.log(g,c.METRIC_TYPE.SECONDARY_PAGE_OPEN,e)});a.off("a:popover:beforeHide:"+g);a.on("a:popover:beforeHide:"+g,function(e){e=h.getCurrentBuyingOptionIndex();d.log(g,c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,e)})};return{init:function(){for(var e=a.$(b.ICON_FARM_CONTAINER_CLASS),g=0;g<e.length;g++){var d=a.$(e[g]),c=d.data(b.TYPE_PARAM);if(c&&c===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var c=d,
h=a.$("#"+c.data(b.POPOVER_CONTENT_PARAM)),h={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:h.html(),name:c.data("name")};f.create(c,h);p(d)}}}}});k.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,f,b,d,c,h){a.declarative("returns-policy-url","click",function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",
c.METRIC_TYPE.FULL_RETURN_POLICY,a);a=f.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);m.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:beforeShow:return-policy-secondary-view");a.on("a:popover:beforeShow:return-policy-secondary-view",function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.ICON_CLICK,a);d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=h.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});k.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,f,b,d,c,h,p,e,g,v){function u(){e.reset();a.loadImageManually(a.$(".icon-box"));
b.init();d.init();v.init();for(var g=0;g<n;g++)l(g)}var n=g.getBuyingOptionCounts(),l=function(e){var g="#icon-farm-widget-"+e,b=a.$(g);b&&b.length?c.log("ICON_FARM_WIDGET",p.METRIC_TYPE.GLANCE_VIEW,e):c.log("ICON_FARM_WIDGET",p.METRIC_TYPE.ABSENT,e);(g=a.$(g+" .icon-container"))&&g.length&&g.each(function(){c.log(a.$(this).data("name"),p.METRIC_TYPE.GLANCE_VIEW,e)})};u();a.on("a:pageUpdate",function(){var e;a:{try{if(a.$("#"+h.ICON_FARM_V2_FEATURE_DIV).find("script").length){e=h.ICON_FARM_V2_FEATURE_DIV;
break a}if(a.$("#"+h.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){e=h.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}c.log("ICON_FARM_WIDGET",p.PAGE_DATA_MISSING,0)}catch(g){k.log(g,"ERROR","DetailPageMobileIconFarm")}e=void 0}if(e){for(var b=0;b<n;b++)if(f.isNewState(e,h.ICON_FARM_STATE+"-"+b)){var d=f.processState(e,h.ICON_FARM_STATE+"-"+b);if(a.objectIsEmpty(d))return}u()}})});k.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",
ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){k.when("A",
"atf","ready").register("IconFarmPageStateParserService",function(a){function f(b,f){f='script[data-a-state\x3d"'+JSON.stringify({key:f})+'"]';return a.$("#"+b).find(f)}return{processState:function(b,d){var c;try{var h=f(b,d),l=h[0];c=h.html();var e=a.parseJSON(c);a.state(d,e);a.$.data(l,"state_processed",!0);return e}catch(g){console.log(g)}return a.state(d)},isNewState:function(b,d){try{return!a.$.data(f(b,d)[0],"state_processed")}catch(c){console.warn("Unable to determine state status",c)}return!1}}})})();
"use strict";k.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",function(a,f){return{getBuyingOptionCounts:function(){if(!a.$(f.selector.iconfarm).length)return 1;var b=a.$(f.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(f.selector.iconfarm).length){for(var b=b.children,d=0,c=0;c<b.length;c++)var h=a.$(b[c]).attr("data-buying-option-index"),d=Math.max(d,h);b=d}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(f.selector.iconfarm).length)return 0;
var d=a.$(f.selector.BUYBOX_ACCORDION_ACTIVE);d.length&&(b=d.index());return b}}});k.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,f,b){var d=b.getCurrentBuyingOptionIndex(),c=function(b){var c=a.$(f.selector.iconfarm);if(c.length){var e=c[0].children;e.length&&(c=e[d],b!==l&&b.selectedRow!==l&&b.selectedRow.$row!==l&&a.$(b.selectedRow.$row)!==l&&(b=a.$(b.selectedRow.$row).index(),b!==d&&(e=e[b],c.style.display="none",e.style.display=
"block",d=b)))}};return{init:function(){a.on("a:pageUpdate",c);a.on("PageRefresh:ATF",c);a.on("a:accordion:buybox-accordion:select",c)}}});"use strict";k.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("carousel-move-one-box-transition-iconfarm",function(a,f,b,d){function c(e,g,b,c){b?(e.setAttr(f.CURRENTLY_WRAPPING,!0),g.callback=b,g.easingFunction=g.easingFunction||e.getAttr(f.WRAP_EASING),g.animationSpeed=1.3*(a.isFiniteNumber(g.animationSpeed)?g.animationSpeed:
e.getAttr(f.ANIMATION_SPEED))):g.callback=c}function h(e,a){(a.animationDuration===l||0<a.animationDuration)&&!a.silent&&e.setAttr(f.ANIMATING,!0)}function k(e,a){var b=e.getAttr(f.PAGE_SIZE),c=e.dom.$container.find(".a-carousel-card"),d=c.width(),c=c.outerWidth();a-=b*c;b=0;a>d&&(b=a-d);e.dom.$container.find(".a-carousel-right").css("margin-right",b+f.CURRENT_PIXEL)}b=a.copy(d);b.gotoPage=function(e,a,b){var c=e.getAttr(f.CIRCULAR),d=e.getAttr(f.PAGE_SIZE),l=e.getAttr(f.SET_SIZE);b=b||{};h(e,b);
var k=1;l>d&&(k=l-d+1);c?a>k?a=1:1>a&&(a=k):a>k?a=k:1>a&&(a=1);e.setAttr(f.PAGE_NUMBER,a);this.gotoIndex(e,a,b);this.setButtonVisibility(e,a,k)};b.gotoIndex=function(a,b,d){var l,n,r,m,q,t;d=d||{};h(a,d);l=a.getAttr(f.CIRCULAR)&&!a.getAttr(f.CURRENTLY_WRAPPING);n=d.callback;r=this;m=null;q=a.getViewportWidth();a.setAttr(f.FIRST_VISIBLE_ITEM,b);1>b?l&&(m=-q,t=function(){n&&n();r.wrapToLast(a)}):b>a.getAttr(f.SET_SIZE)?l&&(m=a.getAttr(f.CURRENT_PIXEL)+q,t=function(){n&&n();r.wrapToFirst(a)}):m=a.getItemOffset(b);
c(a,d,t,n);null!==m&&this.gotoPixel(a,m,d);k(a,q)};b.setButtonVisibility=function(a,b,c){var d=a.getAttr(f.CIRCULAR),h=a.dom.$container.find(".a-carousel-goto-prevpage"),k=a.dom.$container.find(".a-carousel-goto-nextpage");d?(h.css("visibility","visible"),k.css("visibility","visible")):(b===l&&c===l&&(b=a.getAttr(f.PAGE_NUMBER),d=a.getAttr(f.PAGE_SIZE),a=a.getAttr(f.SET_SIZE),c=1,a>d&&(c=a-d+1)),1===b?h.css("visibility","hidden"):h.css("visibility","visible"),b===c?k.css("visibility","hidden"):k.css("visibility",
"visible"))};b.handleWindowResize=function(a){var b=a.getAttr(f.CIRCULAR),c=a.dom.$container.find(".a-carousel-goto-prevpage");a=a.dom.$container.find(".a-carousel-goto-nextpage");b||(c.css("visibility","hidden"),a.css("visibility","hidden"))};return b});k.when("A","a-carousel-framework","carousel-move-one-box-transition-iconfarm").register("move-one-box-iconfarm-carousel",function(a,f,b){f.registerStrategy("transition","a-carousel-iconfarm-moveOneBox",b);return{initializeCarousel:function(d){f.onInit(d,
function(c){b.setButtonVisibility(c,l,l);a.$(m).resize(function(){b.handleWindowResize(c);a.delay(function(){b.setButtonVisibility(c,l,l)},1E3)})})}}})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageSocialProofingAssets@common","DetailPageSocialProofing"):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.declare("socialProofingConstants",{socialProofingAUIState:"social-proofing-page-state-cache",socialProofingState:"social-proofing-page-state",socialProofingTriggeredAsinsState:"social-proofing-triggered-asins-page-state",socialProofingBadgeClass:".social-proofing-badge",
socialProofingFaceoutClass:".social-proofing-faceout",socialProofingBadgeWeblabDivId:"#social-proofing-badge-weblab-data",MOBILE_APP:"mobileApp",ATTRIBUTION:"SocialProofing"});"use strict";d.when("A","socialProofingConstants","socialProofingPageState","ready").register("socialProofingUtil",function(b,e,h){function k(b,a){f.ue&&f.ue.trigger?f.ue.trigger(b,a):d.log("Failed to get ue and ue.trigger for weblab: "+b+"and treatment: "+a,"WARN",e.ATTRIBUTION)}return{getAttributeFromPageState:function(c){var a=
b.state(e.socialProofingState);if(a)return a[c]},triggerWebLab:k,triggerWeblabsBySectionId:function(c){c=b.$(c);if(c.length){if(!h.isWeblabTriggered()&&(c=c[0])){c=c.dataset;for(var a in c)k(a.toString().toUpperCase(),c[a]);h.updateWeblabTriggeredToTrue()}}else b.state.replace(e.socialProofingTriggeredAsinsState,{})}}});"use strict";d.when("A","socialProofingConstants","ready").register("socialProofingPageState",function(b,e){function d(){var a=b.state(c);if(a)return a.asin}function f(){var a=b.state(e.socialProofingTriggeredAsinsState);
return a?!0===a.weblabTriggered:(b.state.replace(e.socialProofingTriggeredAsinsState,{weblabTriggered:!1}),!1)}var c=e.socialProofingState;return{reloadPageState:function(){b.each(b.$(".social-proofing-badge").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&(b.state.replace(c,a,!0),b.state.replace(e.socialProofingTriggeredAsinsState,{}))});b.each(b.$(".social-proofing-faceout").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===
c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&b.state.replace(c,a,!0)})},isMobileApp:function(){var a=b.state(c);if(a)return a.deviceType===e.MOBILE_APP},getAsin:d,getMerchantId:function(){var a=b.state(c);if(a)return a.merchantId},getRemoteAddress:function(){var a=b.state(c);if(a)return a.remoteAddress},getIsInternal:function(){var a=b.state(c);if(a)return a.isInternal},getIsRobot:function(){var a=b.state(c);if(a)return a.isRobot},getAvailableBadges:function(){var a=b.state(c);if(a)return a.availableBadges},
getAvailableFaceouts:function(){var a=b.state(c);if(a)return a.availableFaceouts},isWeblabTriggered:f,updateWeblabTriggeredToTrue:function(){var a=b.state(e.socialProofingTriggeredAsinsState);a&&!f()&&(a.weblabTriggered=!0,b.state.replace(e.socialProofingTriggeredAsinsState,a))}}})});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("DetailPageSocialProofingAssets@logger","DetailPageSocialProofing"):c;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,c,e){f.when("A","ready").register("socialProofingNexusLogger",function(d){function f(b){var a=c.ue;if(a)try{a.event&&a.event(b,b.producerId,b.schemaId)}catch(d){a.count("NexusLoggerFailure",1)}}var a={};return{createEvent:function(b){a.producerId=b.producerId;
a.schemaId=b.schemaId;a.pageAsin=b.pageAsin;a.pageType=b.pageType;a.subPageType=b.subPageType;a.merchantId=b.merchantId;a.remoteAddress=b.remoteAddress;a.isInternal=b.isInternal?1:0;a.isRobot=b.isRobot?1:0;a.server=c?c.ue_sn:""},logNexusEvent:function(b,c){if(0!==Object.keys(a).length){var e=JSON.parse(JSON.stringify(a));e.refMarker=b;d.objectIsEmpty(c)||Object.keys(c).forEach(function(a){e[a]=c[a]});f(e)}}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@badges","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingBadgeUtil",function(b,d){return{isSocialProofingBadgePresent:function(){return 0<b.$(d.socialProofingBadgeClass).length}}});"use strict";a.declare("socialProofingBadgeMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_badge_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingBadgeMetricConstants","socialProofingNexusLogger").register("socialProofingBadgeNexusLogger",function(b,d,a,c){return{createSocialProofingBadgeNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableBadges();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@faceouts","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingFaceoutUtil",function(b,d){return{isSocialProofingFaceoutPresent:function(){return 0<b.$(d.socialProofingFaceoutClass).length}}});"use strict";a.declare("socialProofingFaceoutMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_faceout_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingFaceoutMetricConstants","socialProofingNexusLogger").register("socialProofingFaceoutNexusLogger",function(b,d,a,c){return{createSocialProofingFaceoutNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableFaceouts();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("DetailPageSocialProofingAssets@desktop","DetailPageSocialProofing"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","socialProofingPageState","socialProofingBadgeNexusLogger","socialProofingFaceoutNexusLogger","socialProofingBadgeUtil","socialProofingFaceoutUtil","socialProofingUtil","socialProofingConstants","atf","ready").execute(function(c,b,a,e,d,
f,g,h){c.on("a:pageUpdate",function(){d.isSocialProofingBadgePresent()&&(b.reloadPageState(),a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);f.isSocialProofingFaceoutPresent()&&(b.reloadPageState(),e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())});d.isSocialProofingBadgePresent()&&(a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);
f.isSocialProofingFaceoutPresent()&&(e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(x){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,M=h?h("SocialShareWidgetAUI","AmazonUI"):g;M.guardFatal?M.guardFatal(x)(M,window):M.execute(function(){x(M,window)})})(function(x,g,h){function M(e){if(Array.isArray(e)){for(var h=0,g=Array(e.length);h<e.length;h++)g[h]=e[h];return g}return Array.from(e)}"use strict";"use strict";x.register("SocialShareWidget",function(){var e;(function(){var h={353:function(e,a,c){Object.defineProperty(a,"__esModule",{value:!0});
var m=c(905),f=c(738);e=function(){function a(){var l=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=l.getDateTimeByOffset(a);var d=l.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:d}};this.getMarketplaceId=function(a){return"string"==typeof a?a:g.ue&&g.ue.mid?g.ue.mid:f.CSA_DEFAULT_VALUE.string};var d=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:f.CSA_DEFAULT_VALUE.number,hitDay:d.hitDay,
hitDatetime:d.hitDatetime,hitDatetimeUtc:d.hitDatetimeUtc,pageType:g.ue_pty?g.ue_pty:f.CSA_DEFAULT_VALUE.string,subPageType:g.ue_spty?g.ue_spty:f.CSA_DEFAULT_VALUE.string,sessionId:g.ue&&g.ue.sid?g.ue.sid:f.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var d=a.shareDataAttributes;if(this.csaMetricsData.customerId=d.customerId?d.customerId:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=d.requestId?d.requestId:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
d.asin?d.asin:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=d.ingress?d.ingress:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=d.platform?d.platform:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(d.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(d.isRobot),this.csaMetricsData.channel=a.channel?a.channel:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:f.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(d.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!d.triggeredFromScreenshotToast&&d.triggeredFromScreenshotToast,a.weblab)d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=d;a.customizeShareCSAData&&(d=this.csaMetricsData.shareEntities,d=void 0===
d?{}:d,a.customizeShareCSAData.isCustomizedExperienceEnabled===f.TRUE&&(d.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,d.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,d.hasQuote=a.customizeShareCSAData.hasQuote,d.isCustomized=a.customizeShareCSAData.isCustomized,d.customizePreSelected=a.customizeShareCSAData.customizePreSelected,d.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=d));a.isCustomShareOptionsSheetEnabled&&
(d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=d);a.caf&&(d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d).cafSwitchEnabled=a.cafSwitchEnabled?f.TRUE:f.FALSE,this.csaMetricsData.shareEntities=d);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||f.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=
function(c){var d=new Date;0!==c&&(c*=a.MINUTES_TO_MILISECONDS,d=d.getTime()-c,d=new Date(d));return d.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,m.isCSALoaded)()&&g.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",
a}();a.default=e},305:function(e,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,m){var c={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(l){var d="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),b="\x26body\x3d".concat(encodeURIComponent(a.title));
l=encodeURIComponent(l||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(d).concat(b," ").concat(l)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(l){l="?url\x3d".concat(encodeURIComponent(l||
a.shareUrl.getReturnForChannel(this.ref)));var d="\x26description\x3d".concat(encodeURIComponent(a.title)),b="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(l).concat(d).concat(b,"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var d="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(d).concat(b)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var d=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),c=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(b),"redirect_uri\x3d".concat(d),"hashtag\x3d".concat(c)].join("\x26");return"".concat(this.shareBaseUrl).concat(b)}},tw:{label:"X",name:"x",
ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var d="?text\x3d".concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var c="\x26hashtags\x3d".concat(a.hashtags.join(",")),l="\x26via\x3d".concat(encodeURIComponent("Amazon"));
return"".concat(this.shareBaseUrl).concat(d).concat(b).concat(c).concat(l)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),
"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(b||
a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==m?0:m.length){var b={};return m.forEach(function(a){c[a]&&(b[a]=c[a])}),b}return c}},738:function(e,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};e=a.CSA_HIT_TYPE={};e.CLICK_SUCCESS="click_success";e.CLICK_ERROR="click_error";e.CLICK_CANCEL="click_cancel";e.SHARE="share";e.CUSTOMIZE_SHARE=
"click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION=
"SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",
channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,
marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(e,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=
a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var m,f=c(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(m||(a.Device=m={}));a.context=function(){var b=m.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?b=m.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?b=m.IOS:(0,a.isMobileWeb)()&&(b=m.MWeb);var d="unknown";return(0,a.isMobileApp)()?d="mshop":(0,a.isMobileWeb)()?d="mweb":(0,a.isDesktop)()&&(d="desktop"),{device:b,page:(0,a.isUeAvailable)()?g.ue_pty:"unknown",
subPage:(0,a.isUeAvailable)()?g.ue_spty||g.ue_pti:"unknown",platform:d}};a.isTwisterAsin=function(){return!!g.isTwisterPage||!!g.twisterController||b};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,f.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!g.ue};a.isAUILoaded=function(){var a;return"undefined"!=typeof g&&(0,f.isString)(null===(a=null===g||void 0===g?void 0:g.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};
a.isIE=function(){return(0,f.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,f.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,f.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,f.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,f.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,f.getCookie)("amzn-app-id"))};
a.isMobileWeb=function(){return 450>=g.screen.availWidth&&((0,f.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return g.navigator&&(0,f.isFunction)(g.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,f.isFunction)(a.share)};a.isCSALoaded=function(){return(0,f.isFunction)(g.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=g.navigator)||void 0===a?void 0:a.vendor)};var b=!1;(0,a.isAUILoaded)()&&g.P.when("mobile-inline-twister-critical").execute(function(){b=
!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},495:function(e,a,c){Object.defineProperty(a,"__esModule",
{value:!0});var m=c(905),f=c(353),b=c(738);e=function(){function a(){}return a.logCountOnce=function(a){(0,m.isUeAvailable)()&&g.ue.count(a,(g.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,b){var d=this;(0,m.isAUILoaded)()&&g.P.when("A").execute(function(c){c.trigger("".concat(d.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:b})})},a.logCounter=function(a,b){b=b?".".concat(b):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(b);this.emitFullMetricName(a,"logCounter");
this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?".".concat(b.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(b,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logFatal=function(a){(0,m.isAUILoaded)()&&g.P.log(a,"FATAL",
this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,m.isCSALoaded)()&&(new f.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);this.timers[a]=Date.now()},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var b=this.timers[a];(0,m.isUeAvailable)()&&b&&(g.ue.count(a,Date.now()-b),this.emitFullMetricName(a,"stopTimer"),delete this.timers[a])},
a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=b.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,c){var d;if(void 0===c&&(c=""),(0,m.isUeAvailable)()){var f=(0,m.context)();a.platform=f.platform;a.metricName=c?".".concat(c.toLowerCase()):""}b=b('[data-action\x3d"ssf-share-icon"]').data();c=c?".".concat(c):"";return b?(b=(null===(d=b.ssfShareIcon)||void 0===d?void 0:d.shareDataAttributes)||{},d=b.ingress,b=b.platform,b=void 0===b?"unknown":b,"".concat(void 0===
d?"unknown":d,".").concat(b).concat(c).toLowerCase()):""},a}();a.default=e},241:function(e,a,c){Object.defineProperty(a,"__esModule",{value:!0});var m,f=c(905),b=c(738);!function(a){a.RETURN="r";a.CLICK="cl"}(m||(m={}));e=function(){function a(a,c){if(void 0===a&&(a="ur"),void 0===c&&(c=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:f.Device.Other,page:"",subPage:"",platform:b.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=
(0,f.context)();this.treatment=c;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(m.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(m.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var b=this.treatment?"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(m.RETURN,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,
"_").concat(b).concat(this.id)},a.prototype.getClickForChannel=function(a){return"".concat(this.PREFIX,"_").concat(m.CLICK,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(this.id)},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===g||void 0===g?void 0:g.ue)||void 0===a?void 0:a.rid;return b||(b="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,13)),this.id=b},a.prototype.get=function(a){var b=this.treatment?
"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a}();a.default=e},198:function(e,a,c){var m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var f in b=arguments[c])Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f]);return a},m.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var f,b=c(495),l=c(905),
d=c(474),h=c(161),q=c(738);(0,l.isAUILoaded)()&&g.P.when("mash").execute(function(a){return f=a});e=function(){function a(a){this.sheetOptions={title:q.EMPTY_STRING,text:q.EMPTY_STRING,shareUrl:new d.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:q.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:q.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=m(m({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=
function(){var a,c=this,d=this.sheetOptions.shareDataAttributes.ingress,f={channel:q.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},e=this.shareUrl.return;this.sheetOptions.tinyUrl&&(e=this.sheetOptions.tinyUrl,b.default.logCounter("MWeb.Tiny.Success"),b.default.logCounterRefactor("Tiny.Success",d));var l=(0,h.isFunction)(this.sheetOptions.sheetShownCallback);
try{null===(a=null===g||void 0===g?void 0:g.navigator)||void 0===a||a.share({url:e,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){l&&c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_SUCCESS,f);b.default.logCSAEvent(q.CSA_HIT_TYPE.SHARE,f);(0,h.isFunction)(c.sheetOptions.incrementShareCount)&&c.sheetOptions.incrementShareCount(f.refMarker);b.default.logCounterRefactor("ChannelClick",c.sheetOptions.shareDataAttributes.ingress)}).catch(function(a){l&&
c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_SUCCESS,f);a.name===q.Err.Abort&&b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_CANCEL,f)})}catch(n){b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_ERROR,f)}},a.prototype.launchNativeApp=function(){var a=this,c=this.shareUrl.refMarker.click,d=this.sheetOptions.shareDataAttributes,e=this.sheetOptions.refererURL,l=this.sheetOptions.customizeShareCSAData,r=this.sheetOptions.shareDataAttributes.ingress,n=q.EMPTY_STRING,u=this.sheetOptions.caf||
!1,g=this.sheetOptions.cafSwitchEnabled||!1,p=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,t=this.shareUrl.return,v=(0,h.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(t=this.sheetOptions.tinyUrl,b.default.logCounter("MShop.Tiny.Success"),b.default.logCounterRefactor("Tiny.Success",r));var B={channel:n,refMarker:c,refererURL:e,shareDataAttributes:d,customizeShareCSAData:l,caf:u,cafSwitchEnabled:g,isCustomShareOptionsSheetEnabled:p};d={messagePlain:this.getShareMessage,
messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:t,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==f||f.share(m(m({},d),{successCallback:function(){(0,h.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_SUCCESS,B)},failCallback:function(){b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_ERROR,B)},shareServiceSelectedCallback:function(d){d&&
"'null'"!==d?((0,h.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(d),B.channel=a.getChannelByKeyword(d).channel,d=a.getChannelByKeyword(d).refId,B.refMarker=a.shareUrl.refMarker.getClickForChannel(d),b.default.logCSAEvent(q.CSA_HIT_TYPE.SHARE,B),b.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),(0,h.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback(),v&&a.sheetOptions.incrementShareCount(c)):("MSHOP_ANDROID"===
a.sheetOptions.shareDataAttributes.platform&&v&&a.sheetOptions.incrementShareCount(c),b.default.logCSAEvent(q.CSA_HIT_TYPE.CLICK_CANCEL,B))}}))},a.prototype.launch=function(a){(0,l.isNativeAppShareAvailable)(f)?this.launchNativeApp():(0,l.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,h.isFunction)(a)?a():(b.default.logCounter("Click.ShareUnavailable"),b.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",
{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,h.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,h.truncate)(this.sheetOptions.title,140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return q.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},
a.prototype.getChannelByRegex=function(a){return q.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=q.RAW_CHANNEL_PREFIX+a,c=q.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b=
"SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||
this.shareUrl.return;return"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=e},474:function(e,a,c){Object.defineProperty(a,"__esModule",{value:!0});var m=c(241);e=function(){function a(b,c,d){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new m.default(c,d)}return a.prototype.getUpdatedUrl=function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,
"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(l){return!1}return!0},a.getDefault=function(){var a,c,d=null===(a=null===g||void 0===g?void 0:g.location)||void 0===a?void 0:a.href;if(!d)return(null===(c=null===g||void 0===g?void 0:g.ue)||void 0===c?0:c.sn)?"https://".concat(g.ue.sn):"https://amazon.com";a=
new URL(d);c=a.searchParams.has("psc")?"?psc\x3d1":"";return g.ue_pti?"".concat(g.location.origin,"/dp/").concat(g.ue_pti).concat(c):(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,
configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=e},161:function(e,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};
a.isString=function(a){return"string"==typeof a};a.truncate=function(a,e){void 0===a&&(a="");var c=Array(3).fill(".");return a.length>e?a.substring(0,e-3)+c.join(""):a};a.testUserAgent=function(a){if(!g&&!g.navigator)return!1;try{return a.test(g.navigator.userAgent)}catch(m){return!1}};a.getCookie=function(a){a="".concat(a,"\x3d");for(var c=document.cookie.split(";"),e=0;e<c.length;e++){for(var b=c[e];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(a))return b.substring(a.length,b.length)}return""};
a.getDPXObject=function(){var a,e;return null===(e=null===(a=g.DetailPage)||void 0===a?void 0:a.StateController)||void 0===e?void 0:e.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},156:function(e,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(e,a,c){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=
void 0;e=c(305);var h=c(474),f=c(156),b=c(495),l=c(198),d=c(241),u=c(905);c=c(738);a.SocialShareCore={Channels:e.default,Url:h.default,Translations:f.default,Metrics:b.default,ShareSheet:l.default,RefMarker:d.default,Detection:u.default,Constants:c};a.default=a.SocialShareCore}},w={};e=function c(a){var e=w[a];if(void 0!==e)return e.exports;e=w[a]={exports:{}};return h[a].call(e.exports,e,e.exports,c),e.exports}(519)})();return e});"use strict";x.register("SocialShareWidgetConfig",function(){var e=
Object.freeze({MODAL:"modal",POPOVER:"popover"}),h=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:e,WIDGET_ICON:h,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:e.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,
cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",
ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}}},defaultWidgetData:{icon:h.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:g.navigator.userAgent,platform:"DESKTOP",ingress:g.ue_pty,asin:g.ue_pti,requestId:g.ue_id,customerId:g.opts&&g.opts.customerId,marketplaceId:g.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",
arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(e,t,w,p){var a=t.SocialShareCore,c=a.Metrics,m=0,f=function(){},b=!1,l=c.getMetricName(e.$),d=e.constants.HIDE_CLASS;c.startTimer(l);c.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var u=e.$,q=a.Detection,r=a.Translations,k=a.Channels,
y=a.ShareSheet,t=a.Url,A=a.Constants,D=function(a){a=a.data("share")||a.find("[data-share]").data("share");return e.extend({},p.defaultWidgetData,a)},z=u(".ssf-share-trigger"),n=p.defaultShareData,F=D(z),G=n.url,J=u("#ac-getlink-bottomsheet"),I=u('[data-action\x3d"ssf-share-icon"]'),v=function(){var a=p.iconMap;return F.icon===p.WIDGET_ICON.ARROW?a.arrow:q.isDesktop()?a.ios:F.icon===p.WIDGET_ICON.VARIABLE?q.isIOS()?a.ios:a.android:a[F.icon]},B=function(a){a.find('[class*\x3d"ssf-multi-"]').length||
a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));z=a.find('[class*\x3d"ssf-multi-"]')},E=void 0,C=void 0,K=void 0,L=void 0,P=void 0,V=void 0,O=void 0;x.when("a-sheet").execute(function(a){return E=a});x.when("a-popover").execute(function(a){return C=a});x.when("a-modal").execute(function(a){return K=a});x.when("SocialShareWidgetTiny").execute(function(a){return O=a});var W=function(a,b){var c=2<arguments.length&&arguments[2]!==h?arguments[2]:"ssf-share-bottom-sheet",
d=n.customize||n.caf;if(!L||d)L=E.create({name:c,inlineContent:a,closeType:"icon",height:b});E.showSheet(L)},S=function(a){var b=a.type===p.WIDGET_TYPE.POPOVER&&C,c=a.type===p.WIDGET_TYPE.MODAL&&K;a=w.build(a);E?W(a.getBottom()):b?(b=a.getPopover(),z.hasClass("a-declarative")||(P=C.create(z,{name:"ssf-share-popover",position:n.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=
a.getModal(),z.hasClass("a-declarative")||(V=K.create(z,{inlineContent:b,width:600}).show()))},aa=function(a){if(a.customize||a.caf)c.logCounter("webview.sharesheet.caf.background"),c.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),x.when("mash").execute(function(a){a.addEventListener("appPause",N)})},ba=function(a){x.when("SocialShareWidgetCustomize").execute(function(b){w.build(a).getCustomize(function(c){W(c,650,"ssf-customize-bottom-sheet");b.init(a,S,N);
aa(a)})})},N=function Z(){x.when("mash").execute(function(a){a.removeEventListener("appPause",Z)});P&&C.get(z).hide();L&&E.hideSheet(L);V&&K.get(z).hide()},ca=function(){var a=n.shareDataAttributes.asin,b=g.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;n.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},T=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(d);a.find("i").hide()},Q=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(d);
a.find("i").show()},X=function(a){var b=a.shareData,d=a.copyElement,k=b.shareDataAttributes,f=b.t,r=b.treatment;r=r===h?"":r;var n=b.weblab;n=n===h?"":n;a={channel:"copy",refMarker:b.shareUrl.refMarker.getClickForChannel(a.channelRef),shareDataAttributes:k,treatment:r,weblab:n};c.logCSAEvent(A.CSA_HIT_TYPE.SHARE,a);c.logCounter("DPX.Desktop.CopySuccess");c.logCounter(l,"CopySuccess");c.logCounterRefactor("CopySuccess",k.ingress);q.isDesktop()?function(){var a=d.find(".copy-label");a.text(f.taf_copy_url_changeover);
e.delay(function(){N();a.text(f.taf_copy_name)},1E3)}():(u(".ssf-feedback").show(),N())},Y=function(a){c.logCSAEvent(A.CSA_HIT_TYPE.CLICK_ERROR,a);c.logCounter("DPX.Desktop.CopyFailure");c.logCounter(l,"CopyFailure");c.logCounterRefactor("CopyFailure",n.shareDataAttributes.ingress)},R=function(a){var b=a.shareData,d=a.channelRef,e=b.shareUrl;a=b.socialLinks;var k=a===h?{}:a;a=b.isOGTEnabled;a=a===h?!1:a;var f=b.dealsPreviewEnabled;f=f===h?!1:f;var q=b.eventPreviewTreatment;q=q===h?"C":q;d=d?e.getReturnForChannel(d):
e.return;e=k.shareframework||b.url;k=b.aapiBaseUrl;k=k===h?"":k;var r=b.shareAapiCsrfToken;r=r===h?"":r;var n=b.tinyUrlEnabled;n=n===h?!1:n;var l=b.deeplinkInfo;l=l===h?{}:l;var u=b.storeId;u=u===h?"":u;var v=b.shareDataAttributes;b=v.marketplaceId;b=b===h?"":b;v=v.ingress;v=v===h?"":v;if("c"!==q.toLowerCase()){d=new URL(d);var g=q.match(/^T(\d+)$/);d.searchParams.append("peakEvent",g[1]);d.searchParams.append("dealEvent",f?"1":"0");d=d.toString();c.logCounterRefactor("EventPreview"+q,v)}return{tinyUrlEnabled:n,
aapiBaseUrl:k,shareAapiCsrfToken:r,marketplaceId:b,url:d,isOGTEnabled:a,originalUrl:e||d,refMarkerId:m++,deeplinkInfo:l,storeId:u}};u(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(a){a.preventDefault();a.stopPropagation();c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(l,"ChannelClick");c.logCounterRefactor("ChannelClick",n.shareDataAttributes.ingress);var b=u(this),d=b.data("key"),k=n;a=k.refererURL;var f=k.shareDataAttributes,r=k.treatment;r=r===h?"":r;var v=k.weblab;
v=v===h?"":v;var m=k.builtChannels[d],y=m.ref;d=k.shareUrl.refMarker.getClickForChannel(y);k=m.name;var p=m.getSharingUrl();c.logCSAEvent(A.CSA_HIT_TYPE.SHARE,{channel:k,refMarker:d,refererURL:a,shareDataAttributes:f,treatment:r,weblab:v});a=R({shareData:n,channelRef:y});T(b);O.fetch({data:a,callback:function(a){Q(b);a&&(p=m.getSharingUrl(a),c.logCounter("Desktop.Tiny.Success"),c.logCounterRefactor("Tiny.Success",f.ingress));if("em"===y)g.open(p,"_self");else if(q.isDesktop()){a=screen.width;var d=
screen.height,k="pi"===y?900:600,r=Math.min(k,.7*a);k=Math.min(k,.7*d);g.open(p,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+r+",height\x3d"+k+",top\x3d"+(d/2-k/2)+",left\x3d"+(a/2-r/2))}else g.open(p,"_blank");N();e.trigger("ssf:event:share",n)}})});e.declarative("ssf-share-icon","click",function(a){c.logCounter("DPX.Desktop.SheetClick");c.logCounter(l,"SheetClick");if(b)return N();B(a.$currentTarget);n=e.extend(n,a.data);n.shareDataAttributes=e.extend(p.shareDataAttributes,a.data.shareDataAttributes);
var d=n.shareDataAttributes.ingress;c.logCounterRefactor("SheetClick",d);if(!e.objectIsEmpty(a.data.associateLink)&&J.length)c.logCounter("ShareIngress.GetLink.T1"),c.logCounterRefactor("ShareIngress.GetLink.T1",d),e.trigger("ac-getlink-bottomsheet-event",n);else{e.extend(r[n.lang],n.t);var f=k(n,n.channels);n.builtChannels=f;n.url=n.url.startsWith("/")?""+g.location.origin+n.url:n.url;n.shareUrl=new t(n.url,n.refId);ca()&&(n.shareUrl=new t(n.url,n.refId),n.shareUrl.url.searchParams.set("psc",1));
q.isDesktop()?(n.image=n.image||u("#imgTagWrapperId img").attr("src"),S(n),c.logCounter("DPX.Desktop.SheetOpen"),c.logCounter(l,"SheetOpen"),c.logCounterRefactor("SheetOpen",d),c.logCSAEvent(A.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:A.EMPTY_STRING,refMarker:n.shareUrl.refMarker.click,refererURL:n.refererURL,shareDataAttributes:n.shareDataAttributes,treatment:n.treatment||"",weblab:n.weblab||""})):n.customize||n.caf?ba(n):(T(a.$currentTarget),f=R({shareData:n}),n=e.extend(n,{sheetShownCallback:function(){Q(a.$currentTarget)}}),
O.fetch({data:f,callback:function(b){n.tinyUrl=b;(new y(n)).launch(function(){S(n);c.logCounter("DPX.Desktop.SheetOpen");c.logCounter(l,"SheetOpen");c.logCounterRefactor("SheetOpen",d);Q(a.$currentTarget)})}}));q.isSafari()&&q.isDesktop()&&(f=R({shareData:n,channelRef:A.CP_CHANNEL_REF}),O.fetch({data:f,callback:function(a){c.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");c.logCounter(l,"TinyUrlOnSheetOpen");c.logCounterRefactor("TinyUrlOnSheetOpen",d);G=a}}));e.trigger("ssf:event:sheetOpen",n)}});u(document).delegate(".ssf-copy,.ssf-channel.copy",
"click",function(a){c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(l,"ChannelClick");c.logCounterRefactor("ChannelClick",n.shareDataAttributes.ingress);a.preventDefault();var b=u(this),d=A.CP_CHANNEL_REF,k=n.shareUrl.getReturnForChannel(d);q.isSafari()&&q.isDesktop()?navigator.clipboard.writeText(G||k).then(function(){X({shareData:n,copyElement:b,channelRef:d})},function(){Y(csaOptions)}):(a=R({shareData:n,channelRef:A.CP_CHANNEL_REF}),T(b),O.fetch({data:a,callback:function(a){Q(b);navigator.clipboard.writeText(a||
k).then(function(){X({shareData:n,copyElement:b,channelRef:d})},function(){Y(csaOptions)})}}));e.trigger("ssf:event:share",n)});u(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(a){a.preventDefault();var b=n;a=b.shareDataAttributes;var d=b.treatment;d=d===h?"":d;var e=b.weblab;e=e===h?"":e;b={channel:"embed",refMarker:b.shareUrl.refMarker.getClickForChannel(A.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:d,weblab:e};c.logCSAEvent(A.CSA_HIT_TYPE.SHARE,b);c.logCounter("DPX.Desktop.ChannelClick");
c.logCounter(l,"ChannelClick");c.logCounterRefactor("ChannelClick",a.ingress);K.create(u(".ssf-channel.embed"),n.kpModalParams).show()});f=function(){z=u(".ssf-share-trigger");F=D(z);var a=F.width;if(!u(".ssf-background").length&&F.background){var b=1.4*a;b=u('\x3cdiv class\x3d"ssf-background'+(F.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});z.wrap(b)}F.icon&&z.css({height:a,width:a,backgroundImage:"url("+v()+")"})};q.isIE()&&u(".ssf-share-trigger,.ssf-background").remove();
e.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-n.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});e.on("ssf:event:trigger-share-widget",function(a){e.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==h?arguments[1]:h)||I})});e.on("a:popover:show:ssf-share-popover",function(){return b=!0});e.on("a:popover:hide:ssf-share-popover",function(){return b=
!1});e.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});f()})()}catch(u){c.logCounter("DPX.Desktop.Error"),c.logCounter(l,"Error"),c.logLoad("Error"),c.logFatal("Error loading Share Framework AUI: "+u.toString())}finally{c.logCounter("DPX.Desktop.Render"),c.logCounter(l,"Render"),c.logLoad("Render"),e.trigger("ssf:event:load"),c.stopTimer(l)}return{init:f}});"use strict";var U=function(){return function(e,g){if(Array.isArray(e))return e;if(Symbol.iterator in
Object(e)){var t=[],p=!0,a=!1,c=h;try{for(var m=e[Symbol.iterator](),f;!(p=(f=m.next()).done)&&(t.push(f.value),!g||t.length!==g);p=!0);}catch(b){a=!0,c=b}finally{try{if(!p&&m["return"])m["return"]()}finally{if(a)throw c;}}return t}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();x.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(e,g,w){w=w.SocialShareCore;var p=e.$,a=w.Detection.isClipboardAvailable,c=w.Detection.isDesktop,
m=g.excludedChannels;a()||m.push("copy");var f=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(b){var e=b.shareUrl,d=b.socialLinks,u=d===h?{}:d;d=b.shareDataAttributes;var q=b.builtChannels,r=b.kpModalParams,k=b.t;u.email=b.mailToUri;var y='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+
k.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!c()&&a()&&1>p(".ssf-feedback").length&&p(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+k.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");
var t=function(a){return{title:k["taf_"+a.name+"_tooltip"]||a.label,label:k["taf_"+a.name+"_name"]||a.label}};g.lineMarketplaces.includes(d.marketplaceId)||u.li?m.push("pi"):m.push("li");r||m.push("embed");g.cnMarketplace.includes(d.marketplaceId)&&m.push.apply(m,M(g.nonCNChannels));return{getModal:function(){var b="",d=!0,c=!1,r=h;try{for(var l=Object.entries(q)[Symbol.iterator](),g;!(d=(g=l.next()).done);d=!0){var p=U(g.value,2),w=p[0],v=p[1];if(!m.includes(w)&&"copy"!==w){var B=t(v),H=u[v.name]||
v.getSharingUrl();b+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+H+'" title\x3d"'+B.title+'" data-key\x3d"'+w+'"\x3e\n                '+f("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+B.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+B.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(C){c=!0,r=C}finally{try{!d&&l.return&&l.return()}finally{if(c)throw r;
}}d=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+e.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+y+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+k.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+b+"\x3c/div\x3e")+d},getPopover:function(){var a="",b=!0,d=!1,c=h;try{for(var e=Object.entries(q)[Symbol.iterator](),
k;!(b=(k=e.next()).done);b=!0){var r=U(k.value,2),l=r[0],v=r[1];if(!m.includes(l)){var g=t(v),p=u[v.name]||v.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+l+' a-color-base" href\x3d"'+p+'" title\x3d"'+g.title+'" data-key\x3d"'+l+'"\x3e\n                '+f("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+g.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+l+'-label"\x3e'+
g.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(C){d=!0,c=C}finally{try{!b&&e.return&&e.return()}finally{if(d)throw c;}}return""+a},getBottom:function(){var a="",b=!0,d=!1,c=h;try{for(var e=Object.entries(q)[Symbol.iterator](),r;!(b=(r=e.next()).done);b=!0){var l=U(r.value,2),g=l[0],v=l[1];if(!m.includes(g)){var p=t(v),y=u[v.name]||v.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+g+' a-color-base" href\x3d"'+
y+'" title\x3d"'+p.title+'" data-key\x3d"'+g+'"\x3e\n                '+f("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+p.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+p.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(C){d=!0,c=C}finally{try{!b&&e.return&&e.return()}finally{if(d)throw c;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+
k.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;x.now("SocialShareWidgetCustomizeTemplate").execute(function(d){a=b.customize?d.getCustomizeBox(k):""});var d='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+k.taf_share_bottom_sheet_title+"\x3c/h3\x3e",c='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+
d+"\x3c/div\x3e",e='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+b.image+')"\x3e'+f("medium")+"\x3c/div\x3e",r=b.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(b.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+k.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",l='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+b.shareLabel+"\n              "+f("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+d+e+r+a+l+"\x3c/div\x3e"+(b.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+c+e+r+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+l+"\x3c/div\x3e":"")}}}}});"use strict";x.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetTiny",function(e,t,w){var p=t.SocialShareCore.Metrics;return{fetch:function(a){var c=a.data,
m=a.isAsync;m=m===h?!0:m;var f=a.callback;x.now("SocialShareWidgetReviewsTiny").execute(function(a){if(a&&w.get("dpx")){a=w.get("shareData");var b=w.get("shareAapiCsrfToken"),d=w.get("aapiBaseUrl");"dprv"===a.refId&&(c.shareAapiCsrfToken=b,c.aapiBaseUrl=d,c.tinyUrlEnabled=!0,p.logCounter("reivews.tiny"))}});a=g.location.protocol+"//";if(c.isOGTEnabled){var b=new URL(c.url);b.searchParams.append("newOGT","1");c.url=b.toString()}if((b=c.deeplinkInfo)&&b.isDisabled&&b.flag!=h){var l=new URL(c.url);l.searchParams.append("nodl",
b.flag);c.url=l.toString()}if(b=c.storeId)l=new URL(c.url),l.searchParams.append("s",b),c.url=l.toString();if(c.tinyUrlEnabled)if(c.aapiBaseUrl&&c.shareAapiCsrfToken&&c.marketplaceId)a=""+a+c.aapiBaseUrl+"/api/marketplaces/"+c.marketplaceId+"/social-share/tinyurl",b={longUrl:c.url},0<c.refMarkerId&&c.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(b={longUrl:c.url+"_"+c.refMarkerId}),l={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',
"x-api-csrf-token":c.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":w.get("slateToken")},p.startTimer("Tiny"),e.ajax(a,{type:"POST",headers:l,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",async:m,data:b,success:function(a){p.logCounter("Desktop.Tiny.Response");p.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?f(a.entity.shortUrl.url):f(c.url);p.stopTimer("Tiny")},error:function(){p.logCounter("Desktop.Tiny.Error");
p.logCounterRefactor("Tiny.Error");p.stopTimer("Tiny");f(c.url)}});else return p.logCounter("Tiny.Unavailable"),p.logCounterRefactor("Tiny.Unavailable"),f(c.url);else return f(c.url)}}});"use strict";x.when("A").register("SocialShareWidgetState",function(e){var h="social-"+g.ue_id+"-share",w={slateToken:e.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};e.state(h,w);return{getCurrent:function(){return e.state(h)},get:function(e){return this.getCurrent()[e]},getAndReset:function(e){var a=
this.get(e);a&&this.set(e,null);return a},set:function(g,a){var c=this.getCurrent();e.trigger("ssf:event:state:set",c);if(!g)return c;c[g]=a;c=e.state(h,c);e.trigger("ssf:event:state:changed",c);return c}}});"use strict";x.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(e,t,w){t=t.SocialShareCore;var p=t.Constants,a=t.Metrics,c=g.location.protocol+"//",m=a.getMetricName(e,p.customize),f=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),b=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),l=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(d){var g=d.shareAapiCsrfToken,q=d.locale,r=d.cafAapiCsrfToken,k=d.productType,y=d.shareDataAttributes,t=y.marketplaceId,A=y.asin,D=y.ingress,z=c+d.aapiBaseUrl,n=w.get("slateToken");n||(a.logCounter(m,"slate.missing"),a.logCounterRefactor("slate.missing",D));var F=function(a){return z+"/custom/socialshareapicontracts/marketplaces/"+
t+"/products/"+A+"/shareframework/"+a},G=function(a){var b=a.async;e.ajax({url:a.url,type:a.type,async:b===h?!0:b,data:a.data,headers:{"Accept-Language":q,Accept:a.accept,"x-api-csrf-token":a.cafToken||g,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":n},xhrFields:{withCredentials:!0},success:a.success,error:a.error})};return{generateImage:function(d,c){var e=F("generatecustomizedimage");G({url:e,type:f.POST,data:d,accept:b.generateImage,success:function(b){a.logCounter(m,
"generateCustomizeImageSuccess");a.logCounterRefactor("generateCustomizeImageSuccess",D);c(b)},error:function(b){a.logCounter(m,"generateCustomizeImageFail");a.logCounterRefactor("generateCustomizeImageFail",D);c(b)}})},externalizeImage:function(d,c,e){d=F("externalizecustomizedimage?customizedImageUrl\x3d"+d);G({url:d,type:f.PUT,accept:b.externalizeImage,async:e,success:function(a){c(a)},error:function(){a.logCounter(m,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",D);c({})}})},
fetchTabs:function(d){var c=F("productshareableattributes?locale\x3d"+q+"\x26type\x3d"+k);G({url:c,type:f.GET,accept:b.fetchTabs,success:function(b){a.logCounter(m,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",D);d(l(b))},error:function(){a.logCounter(m,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",D);d([])}})},fetchCAFID:function(c){var e=1<arguments.length&&arguments[1]!==h?arguments[1]:!0,k=z+"/custom/consultafriendcontracts/marketplaces/"+t+"/consultafriend/feedback-request/"+
A;a.logCounter(m,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",D);G({url:k,type:f.POST,accept:b.fetchCAFID,async:e,cafToken:r,success:function(a){c(a.entity&&a.entity.cafId,A,d.url)},error:function(b){a.logCounter(m,"CAF.createCAFID.failed");a.logCounterRefactor("CAF.createCAFID.failed",D);x.log("Error Creating CAF Id. with request URL "+k+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",p.SSF_AUI_PACKAGE_ATTRIBUTION);c()}})}}}}});"use strict";x.when("A",
"SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(e,g){var t=e.capabilities.rtl,p=g.SocialShareCore.Detection.isAndroid(),a=void 0,c=e.constants.HIDE_CLASS;x.when("mash").execute(function(b){return a=b});var m=function(b,c){if(!a)return c([]);var d=b.length,e=[];b.forEach(function(a){f(a,function(a,b){d--;b&&(e[a.label.toLowerCase()]=a);(3<=e.length||0>=d)&&c(e)})})},f=function(b,c){var d="whatsapp"===b.label.toLowerCase()&&p;a.canLaunchIntentURL({url:b.schemeURI,
successCallback:function(a){if(d)return c(b,!0);c(b,a)},failCallback:function(){if(d)return c(b,!0);c(b,!1)}})},b=function(a){var b=1<arguments.length&&arguments[1]!==h?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},l=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==h?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(b,
f){var d="";m(b.customShareOptions,function(r){r=e.extend(r,b.defaultCustomShareOptions);b.customShareBuiltChannels=r;for(var k in r)if(!("more"===k&&!a||"copy"===k&&p)){var l=d;var g=b;var q=r[k],m=q.stringId,u=q.className,n=q.label;q="https://m.media-amazon.com/images/G/01/share-icons/"+q.image;g='\x3cli class\x3d"ssf-custom-share-option '+(u===h?"":u)+'"  data-name\x3d"'+n.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+
c+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+q+'" title\x3d"'+n+'" /\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(g.t[m]||n)+"\x3c/span\x3e\n                 \x3c/li\x3e";d=l+g}f('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+d+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},
getPreviewImage:function(a){var c=a.starRating,d=a.numberOfReviews,e=t?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+b(a.productImage,"ssf-regular")+"\x3c/div\x3e";c=c?b("RIO"+c+e+".png","ssf-caf-stars"):"";d=l(d);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+c+d+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+c+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
c+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+c+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(e,t,w,p){var a=e.$;t=t.SocialShareCore;var c=t.ShareSheet,m=
t.Metrics,f=t.Constants,b=void 0,l=void 0,d=void 0,u=void 0,q=!1,r=e.constants.HIDE_CLASS;x.when("mash").execute(function(a){l=a});x.when("SocialShareWidgetTiny").execute(function(a){b=a});x.when("SocialShareWidgetCustomizeUtils").execute(function(a){d=a});x.when("SocialShareWidgetCAFUtils").execute(function(a){u=a});return{init:function(k,y,t,w,D,z){var n=k.shareDataAttributes;y=k.incrementShareCount;var A=y===h?null:y;y=k.treatment;var H=y===h?"":y;y=k.weblab;var J=y===h?"":y;y=k.refererURL;var I=
y===h?"":y,v=k.ingress;e.on("ssf:event:caf-switch-change",function(a){q=a});var B=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(r)},E=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(r)},C=function(){return q?(k.t["taf-share-caf-messageprefix"]||"")+" "+k.title:k.title},K=function(a,c,e){q?u.prepareShareUrl(k,a,b,c,function(a,b){return e(a,b)}):d.prepareShareUrl(k,a,b,c,function(a){return e(a)})},L=function(a){a&&e.trigger("ssf:event:caf-share-complete-success",
k)},P=function(a,b,c){var d=a.shareUrl,f=encodeURIComponent(c+" \n "+b);return"Messages"===a.label&&e.capabilities.ios?"sms:///\x26body\x3d"+f:"Email"===a.label?d=d.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(k.emailSubject)).replace("{body}",""+f):d=d.replace("{text}",encodeURIComponent(c)).replace("{url}",b)};a(".custom-share-native-sheet").unbind("click").click(function(a){t();K(f.EMPTY_STRING,!0,function(a){var b=1<arguments.length&&arguments[1]!==h?arguments[1]:"";k.tinyUrl=
a;var d=k;b&&(d=e.extend({channelSelectCB:function(){L(b)},cafSwitchEnabled:q},k),d.title=C());(new c(d)).launch(function(){m.logCounterRefactor("customShareOptions.SheetOpen",v)})})});a(".custom-share-copy").unbind("click").click(function(b){var c=f.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,d=k.caf,e=a(this);B(e);K(c,!1,function(b){var r=1<arguments.length&&arguments[1]!==h?arguments[1]:"";navigator.clipboard.writeText(b).then(function(){var b=k.isCustomShareOptionsSheetEnabled;b=b===h?!1:b;var l=k.shareUrl.refMarker.getClickForChannel(c),
g=p.getAndReset(f.customizeShareStateKey);m.logCSAEvent(f.CSA_HIT_TYPE.SHARE,{channel:"copy",refMarker:l,refererURL:I,shareDataAttributes:n,treatment:H,weblab:J,isCustomShareOptionsSheetEnabled:b,caf:d,cafSwitchEnabled:q,customizeShareCSAData:g});m.logCounterRefactor("CopySuccess",n.ingress);"function"===typeof A&&A(l);a(".ssf-feedback").show();E(e);t();r&&L(r)},function(){z({shareData:k,channelRef:c,caf:d,cafSwitchEnabled:q});E(e)})})});a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");
a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(function(b){var c=a(this);b=k.customShareBuiltChannels;var d=k.isCustomShareOptionsSheetEnabled,e=d===h?!1:d;d=k.caf;var v=d===h?!1:d,y=c.data("name"),u=b[y];b=f.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+u.ref;var w=k.shareUrl.refMarker.getClickForChannel(b);a(".ssf-error-text").addClass(r);B(c);K(b,!0,function(b){var d=1<arguments.length&&arguments[1]!==h?arguments[1]:"",z=p.getAndReset(f.customizeShareStateKey),B=P(u,
b,C());l?l.launchIntentURL({url:B,successCallback:function(){E(c);t();m.logCounterRefactor("ChannelClick",n.ingress);"function"===typeof A&&A(w);d&&L(d);m.logCSAEvent(f.CSA_HIT_TYPE.SHARE,{channel:y,refMarker:w,refererURL:I,shareDataAttributes:n,treatment:H,weblab:J,isCustomShareOptionsSheetEnabled:e,caf:v,cafSwitchEnabled:q,customizeShareCSAData:z})},failCallback:function(){var b=a(".ssf-error-text");b.removeClass(r);var d=b.find(".ssf-error-generic");b=b.find(".ssf-error-email");"email"===y?(d.addClass(r),
b.removeClass(r)):(d.removeClass(r),b.addClass(r));E(c);m.logCSAEvent(f.CSA_HIT_TYPE.CLICK_ERROR,{channel:y,refMarker:w,refererURL:I,shareDataAttributes:n,treatment:H,weblab:J,isCustomShareOptionsSheetEnabled:e,caf:v,cafSwitchEnabled:q});x.log("Failed to launch intent URL "+B,f.SSF_AUI_PACKAGE_ATTRIBUTION);m.logCounterRefactor("customShareOptions.LaunchShareIntentFail",k.shareDataAttributes.ingress)}}):(E(c),m.logCSAEvent(f.CSA_HIT_TYPE.SHARE,{channel:y,refMarker:w,refererURL:I,shareDataAttributes:n,
treatment:H,weblab:J,isCustomShareOptionsSheetEnabled:e,caf:v,cafSwitchEnabled:q,customizeShareCSAData:z}),t(),g.open(B,"_blank"))})})}}});"use strict";x.when("A","SocialShareWidgetState","atf").execute(function(e,h){var g=e.$("#ssf-primary-widget-desktop");e=e.$("#ssf-share-action");g=g.data("ssfShareIcon")||e.data("ssfShareIcon")||{};h.set("shareAapiCsrfToken",g.shareAapiCsrfToken);h.set("aapiBaseUrl",g.aapiBaseUrl);h.set("dpx",!0)});"use strict";x.declare("SocialShareWidgetReviewsTiny",!1);"use strict";
x.when("A","SocialShareWidget").execute(function(e,g){var h=g.SocialShareCore.Metrics,p=void 0;g=e.debounce(function(){clearTimeout(p)},200,!0);e.declarative("ssf-share-icon","touchstart",function(){p=setTimeout(function(){h.logCounter("longpress");h.logCounterRefactor("longpress")},500)});e.declarative("ssf-share-icon","touchmove touchend",g)});"use strict";x.when("SocialShareWidget").execute(function(e){var g=e.SocialShareCore.Metrics;x.now("SocialShareWidgetLoadedBTF").execute(function(e){e?g.logCounter("btf:render"):
g.logCounter("atf:render")})});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(e,t,w,p){t=t.SocialShareCore;var a=e.$,c=t.ShareSheet,m=t.Url,f=t.Metrics,b=t.Constants,l=f.getMetricName(a,b.customize),d=e.constants.HIDE_CLASS,u=function(){},q={},r=0,k=void 0,y=void 0,H=void 0,A=void 0,D=void 0;x.when("a-checkbox").execute(function(a){return y=a});x.when("a-button").execute(function(a){return k=a});
try{(function(){var t=p.imageState;e.declarative("cafCheckboxAction","change",function(){H()});e.on(p.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();t.clear()});e.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){I(a.sheet)});var n=function(a){var b=a.productImage;a.cafSwitch||(a=new Image,a.src=b,a.onload=function(){t.productImageProperties.width=this.width;t.productImageProperties.height=this.height})},F=function(b,c){var d=a(".ssf-preview-container"),k=a(".ssf-caf-image"),
r=(q.cafSwitch=b)?"CAF.switchOn":"CAF.switchOff";f.logCounter(l,r);f.logCounterRefactor(r,c);e.trigger("ssf:event:caf-switch-change",b);b?(k.fadeIn(100),d.hide()):(d.fadeIn(100),k.hide())},G=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.isOGTEnabled;a=a===h?!1:a;var e=b.aapiBaseUrl;e=e===h?"":e;var k=b.shareAapiCsrfToken;k=k===h?"":k;var f=b.tinyUrlEnabled;f=f===h?!1:f;var g=b.deeplinkInfo;g=g===h?{}:g;var l=b.shareDataAttributes,q=b.storeId;q=q===h?"":q;c=c?d.getReturnForChannel(c):
d.return;d=l.marketplaceId;return{tinyUrlEnabled:f,aapiBaseUrl:e,shareAapiCsrfToken:k,marketplaceId:d===h?"":d,url:c,isOGTEnabled:a,originalUrl:b.url||c,refMarkerId:r++,deeplinkInfo:g,storeId:q}},J=function(r,q,n,y,p,u,t){var v=n.shareDataAttributes,w=n.url,A=v.asin,H=v.ingress;v=n.refId;a(".ssf-customize-share-btn").find(".a-spinner").addClass(d);k(".ssf-customize-share-btn").enable();q();var z=!1;q=new URL(u===h?w:u);y&&(v=b.CAF_REF_PREFIX+"_"+v,q.searchParams.append("cafId",y),q.searchParams.append("cafASIN",
p),p!==A&&f.logCounter(l,"CAF.ShareASINMismatch"),z=!0);q.searchParams.append("language",g.languageOfPreference||n.locale||"en_US");n.shareUrl=new m(q.toString(),v);var D=G({shareData:n});x.when("SocialShareWidgetTiny").execute(function(a){a.fetch({data:D,callback:function(a){n.tinyUrl=a;t&&t();a=e.extend({channelSelectCB:function(){y&&e.trigger("ssf:event:caf-share-complete-success",n)},cafSwitchEnabled:z},n);(new c(a)).launch(function(){e.delay(function(a){r(n)},100);y?(f.logCounter(l,"CAF.ShareSheetOpen"),
f.logCounterRefactor("CAF.ShareSheetOpen",H)):(f.logCounter(l,"ShareSheetOpen"),f.logCounterRefactor("ShareSheetOpen",H))})}})})},I=function(a){var b=a.$contentContainer,c=parseInt(a.$container.css("max-height"));b=parseInt(b.height());c<b?(a.$contentContainer.css("height",c),f.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};u=function(c,e,r,g){var m=c.shareDataAttributes,u=c.treatment,v=u===h?"":u;u=c.weblab;var z=u===h?"":u,B=m.ingress;q={productImage:c.productImage||c.image,
rating:c.starRating,caf:c.caf,cafSwitch:c.cafSwitch,text:c.t.taf_custshare_caf_recipientemoji};var C=function(a){f.logCounter(l,a);f.logCounterRefactor(a,B)},E=function(a){w.build(c).generateImage(a,function(a){(a=a.entity)&&"SUCCEEDED"===a.status&&(a=a.customizedImage.url,t.currentImage=a,n({productImage:a}),p.setImage(a),p.hideImageSpinner())})};H=function(){var a=y(".ssf-caf-toggle");F(a.isChecked(),B)};n(q);F(q.cafSwitch,B);c.customizePreSelected||(u=p.getImageData(c,t),E(u));a(".ssf-customize-share-btn").click(function(){k(".ssf-customize-share-btn").isEnabled()&&
(a(".ssf-customize-share-btn").find(".a-spinner").removeClass(d),k(".ssf-customize-share-btn").disable(),q.cafSwitch?(C("CAF.shareClick"),f.startTimer("CAF.fetchCAFAndTinyURL"),c.title=(c.t["taf-share-caf-messageprefix"]||"")+" "+c.title,w.build(c).fetchCAFID(function(a,b,d){J(e,r,c,a,b,d,function(){f.stopTimer("CAF.fetchCAFAndTinyURL")})})):(C("shareClick"),f.logCSAEvent(b.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:b.EMPTY_STRING,refMarker:c.shareUrl.refMarker.click,shareDataAttributes:m,treatment:v,
weblab:z}),J(e,r,c)))});a("#ssf-customize-icon").click(function(){var b=this;k(this).isEnabled()&&(C("CustomizeButtonClick"),k(this).disable(),w.build(c).fetchTabs(function(d){x.now("SocialShareWidgetCustomizeTemplate").execute(function(e){a(".ssf-tabs").html(e.getTabs(c,d));k(b).enable();d.forEach(function(b){b.isQuote&&b.values.length&&(A=b.values[0]);"BackgroundImageTab"==b.id&&b.values.forEach(function(a){"417kcYISTOL.jpg"==a.physicalId&&(D=a)});var d="input[type\x3dradio][name\x3d"+b.id+"]";
a(d).change(function(b){b=JSON.parse(b.target.value);G(b);a(d).unbind("click");a(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);p.setImage();p.showImageSpinner();C(a.id+"Unselect");t.unset(a);a=p.getImageData(c,t);E(a)})})});c.customizePreSelected&&(a("#BackgroundImageTab1").trigger("click"),G(D),A&&(a("#BookQuotesTab0").trigger("click"),G(A)))});p.transitionToCustomizePage();p.adjustPreviewHeight();I(g)}))});var G=function(a){p.setImage();p.showImageSpinner();t.set(a);
var b=p.getImageData(c,t);C(a.id+"Select");E(b)};a(".ssf-back-btn").click(function(){f.logCounter("BackButtonClick");p.transitionToDefaultPage();I(g);t.clear();var a=p.getImageData(c,t);E(a)});x.when("a-checkbox").execute(function(b){a(".ssf-caf-toggle-label").click(function(){var a=b(".ssf-caf-toggle");a.check(!a.isChecked())})})}})()}catch(z){f.logCounter(l,"Error"),f.logLoad("Error"),f.logFatal("Error loading Customize widget, Share Framework AUI: "+z.toString())}finally{f.logCounter(l,"Render"),
f.logLoad("Render")}return{init:u}});"use strict";x.when("A").register("SocialShareWidgetCustomizeTemplate",function(e){var g=e.capabilities.rtl,w=function(a){var b=1<arguments.length&&arguments[1]!==h?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},p=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==h?arguments[0]:"")+"\x3c/span\x3e"},a=
function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(b,c){var d=e.extend(b,{id:a.id}),f={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(f=e.extend(f,{center:!0,width:150,content:d.displayText,background:h}));d=f.id;c=f.position;b=f.content;b=b===h?"":b;var g=f.width,k=g===h?100:g,l=f.background;g=f.center;g=g===h?!1:g;f=f.val;k='style\x3d"width: '+k+"px;background-image: url("+(l===h?"":l)+");background-size: "+k+"px "+k+'px;"';
l=JSON.stringify(f);c=d+c;f=f.label||"";var m='\x3cspan class\x3d"aok-offscreen"\x3e'+f+"\x3c/span\x3e";g&&(m='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+f+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+l+"' aria-label\x3d'"+f+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+k+"\x3e"+m+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+
"\x3c/ul\x3e"},c=function(a){var b=2<arguments.length&&arguments[2]!==h?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==h?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},m=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+
a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==h&&arguments[3]?"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+(2<arguments.length&&arguments[2]!==h?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==h?arguments[1]:"")+"\n            \x3c/div\x3e"},f=function(){return(0<arguments.length&&arguments[0]!==h?arguments[0]:[]).map(function(a){a=a.replace(/"||/g,"");return{displayText:""+
a+"",value:a}})};return{getTabs:function(b,e){var d=b.popularHighlightStrings;if(!e.length)return"";var g="",h="",r=-1;e.forEach(function(b,e){b.isQuote&&(b.values=f(d));if(!b.values.length)return"";-1===r&&(r=e);e=e===r;g+=c(b.id,b.heading,e);h+=m(b.id,a(b),b.text,e)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+g+"\x3c/ul\x3e"+
h)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-base ssf-tabs a-color-base-background a-padding-base"\x3e\x3c/div\x3e',
getImageSection:function(a){var b='\x3cdiv class\x3d"a-color-secondary a-padding-base ssf-product-title-text"\x3e\n      \x3cspan\x3e\n        '+a.title+"\n      \x3c/span\x3e\n    \x3c/div\x3e",c=a.starRating,e=a.numberOfReviews,f=a.t,r=a.cafStarAlignmentLeft,k=a.customize,m=k===h?!1:k;k='\x3cdiv class\x3d"ssf-product-preview"\x3e'+w({productImage:a.productImage}.productImage)+"\x3c/div\x3e";c=w("RIO"+(c===h?"ZERO":c)+(g?"r":"")+".png","ssf-caf-stars");e=p(e);r='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+
(r?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+c+e+"\n              \x3c/div\x3e\n            \x3c/div\x3e";m=m?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+w("customize")+"\x3c/span\x3e":"";f='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+f.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";e=w("caf-emojis"+(g?"r":"")+".png","ssf-caf-emojis");return'\x3cdiv class\x3d"a-box" role\x3d"img"\x3e\n              '+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+
m+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+k+"\n              "+r+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n              \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+k+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+f+e+"\x3c/div\x3e")+"\x3c/div\x3e\n              "+r+"\n            \x3c/div\x3e"))+"\n              "+(a.caf?b:"")+"\n            \x3c/div\x3e"},
getCustomizePreviewImage:function(){return'\x3cdiv class\x3d" ssf-cus-img ssf-no-border a-box"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e'},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomizeUtils",function(e,g,w,p){function a(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab;b=b.BookQuotesTab;var e=a.productImageProperties;a=e.width;e=e.height;return{bgId:(c===h?{}:c).physicalId||"",deviceId:(d===h?{}:d).physicalId||"",quoteValue:(b===h?{}:b).value||"",width:a===
h?"":a,height:e===h?"":e}}function c(a,b){var c=a.shareUrl,d=a.socialLinks;d=d===h?{}:d;var e=a.isOGTEnabled;e=e===h?!1:e;b=b?c.getReturnForChannel(b):c.return;c=a.aapiBaseUrl;var f=a.shareAapiCsrfToken,g=a.tinyUrlEnabled,k=a.deeplinkInfo;k=k===h?{}:k;var l=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:g===h?!1:g,aapiBaseUrl:c===h?"":c,shareAapiCsrfToken:f===h?"":f,marketplaceId:l===h?"":l,url:b,isOGTEnabled:e,originalUrl:d.shareframework||a.url||b,refMarkerId:q++,deeplinkInfo:k}}function m(a,
b,c,d){if(c.isEmpty())return d({});c=encodeURIComponent(c.currentImage);w.build(a).externalizeImage(c,d,b)}g=g.SocialShareCore;var f=e.constants.HIDE_CLASS,b=e.$,l=g.Constants,d=g.Metrics,u=g.Url,q=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return b(".ssf-cus-img")},showImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").removeClass(f)},hideImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").addClass(f)},
setImage:function(a){this.getCustomizeImage().css("background-image",'url("'+a+'")')},transitionToCustomizePage:function(){b(".ssf-customize-container-one").addClass(f);b(".ssf-customize-container-two").removeClass(f).addClass("ssf-customize-transition")},adjustPreviewHeight:function(){var a=parseInt(this.getCustomizeImage().css("border-left-width"))+parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},
transitionToDefaultPage:function(){b(".ssf-customize-container-two").addClass(f);b(".ssf-customize-container-one").removeClass(f).addClass("ssf-customize-transition-back")},getImageData:function(b,c){c=a(c);return{productImageUrl:b.productImage,starRating:b.starRating||"",numberOfReviews:b.numberOfReviews||"",backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,bookQuote:c.quoteValue,productImageWidth:c.width,productImageHeight:c.height}},setCustomizeCSAData:function(b,c){var d=
l.customizeShareStateKey;c=a(c);var e=l.TRUE,f=l.FALSE;p.set(d,{backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,hasQuote:0<c.quoteValue.length?e:f,isCustomizedExperienceEnabled:b.customize?e:f,isCustomized:c.bgId||c.deviceId||c.quoteValue?e:f,customizePreSelected:b.customizePreSelected?e:f,isQuotesAvailable:b.quotes?e:f})},prepareShareUrl:function(a,b,e,f,g){this.setCustomizeCSAData(a,this.imageState);m(a,f,this.imageState,function(h){h=h.entity;var l=new URL(a.url);h&&h.physicalId&&
(d.logCounterRefactor("externalizeImageSuccess"),l.searchParams.append("cspi",h.physicalId));a.cafStarAlignmentLeft?l.searchParams.append("starsLeft","1"):a.caf&&l.searchParams.append("cafHiResImg","1");a.shareUrl=new u(l.toString(),a.refId);h=c(a,b);e.fetch({data:h,isAsync:f,callback:function(a){g(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return b.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},
currentImage:"",productImageProperties:{width:0,height:0}}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCAFUtils",function(e,t,w){function p(b,c){var d=b.shareUrl,e=b.socialLinks;e=e===h?{}:e;var l=b.isOGTEnabled;l=l===h?!1:l;c=c?d.getReturnForChannel(a.CAF_REF_PREFIX+"_"+c):d.return;c=new URL(c);b.cafStarAlignmentLeft?c.searchParams.append("starsLeft","1"):b.caf&&c.searchParams.append("cafHiResImg","1");c.searchParams.has("language")||c.searchParams.append("language",
g.languageOfPreference||b.locale||"en_US");c=c.toString();d=b.aapiBaseUrl;var m=b.shareAapiCsrfToken,k=b.tinyUrlEnabled,p=b.deeplinkInfo;p=p===h?{}:p;var t=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:k===h?!1:k,aapiBaseUrl:d===h?"":d,shareAapiCsrfToken:m===h?"":m,marketplaceId:t===h?"":t,url:c,isOGTEnabled:l,originalUrl:e.shareframework||b.url||c,refMarkerId:f++,deeplinkInfo:p}}e=t.SocialShareCore;var a=e.Constants,c=e.Url,m=e.Metrics,f=0;return{prepareShareUrl:function(b,e,d,f,g){var h=
b.refId;m.logCounterRefactor("CAF.shareChannelClick",b.ingress);m.startTimer("CAF.fetchCAFAndTinyURL");h=a.CAF_REF_PREFIX+"_"+h;w.build(b).fetchCAFID(function(a,l){var k=new URL(b.url);a&&k.searchParams.append("cafId",a);l&&k.searchParams.append("cafASIN",l);b.shareUrl=new c(k.toString(),h);l=p(b,e);d.fetch({data:l,isAsync:f,callback:function(b){m.stopTimer("CAF.fetchCAFAndTinyURL");g(b,a)}})},f)}}});"use strict"});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsEarningsAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
